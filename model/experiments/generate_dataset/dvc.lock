schema: '2.0'
stages:
  fetch_data:
    cmd: python stages/fetch_data.py
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 6118685afb780d0985089acd18678491
      size: 1418
    - path: stages/fetch_data.py
      hash: md5
      md5: c493c92b98421a66b9898b46dc084983
      size: 1349
    params:
      params.yaml:
        fetch_data.end_date: '2024-06-24'
        fetch_data.start_date: '2021-08-01'
    outs:
    - path: ../data/raw
      hash: md5
      md5: 1a9c4390040825452fff1db8f8a4ee29.dir
      size: 3375540
      nfiles: 1
  preprocess_data:
    cmd: python stages/preprocess_data.py
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 6a20ef213a4986d5ac5f03990881ad93
      size: 3831
    - path: ../data/raw
      hash: md5
      md5: 1a9c4390040825452fff1db8f8a4ee29.dir
      size: 3375540
      nfiles: 1
    - path: stages/preprocess_data.py
      hash: md5
      md5: 38b3374fb81ba565d312529b9532f29e
      size: 823
    outs:
    - path: ../data/preprocessed
      hash: md5
      md5: a38fc2d27caf77687be574d8677cabca.dir
      size: 54739
      nfiles: 1
  split_data:
    cmd: python stages/split_data.py
    deps:
    - path: ../data/preprocessed
      hash: md5
      md5: a067ad6aa6699018f781cbb410ae4c4b.dir
      size: 8961599
      nfiles: 20
    - path: stages/split_data.py
      hash: md5
      md5: 94b1258697ccfa256275866610360306
      size: 1432
    params:
      params.yaml:
        splits:
          train:
          - 20142015
          - 20152016
          - 20162017
          - 20172018
          - 20182019
          - 20192020
          - 20202021
          - 20212022
          - 20222023
          test:
          - 20232024
    outs:
    - path: ../data/final
      hash: md5
      md5: 5fbeb73fc8e997752a48cc68c875c5a4.dir
      size: 8950379
      nfiles: 4
  fetch_data@0:
    cmd: python stages/fetch_data.py 20142015 2014-08-01 2015-06-15
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20142015
      hash: md5
      md5: f55a37a0a0b4dbc0c9215c679afae50a.dir
      size: 42037525
      nfiles: 6
  fetch_data@1:
    cmd: python stages/fetch_data.py 20152016 2015-08-01 2016-06-12
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20152016
      hash: md5
      md5: bf7a03b2574c5951cac28a734b2ce39a.dir
      size: 41925211
      nfiles: 6
  fetch_data@2:
    cmd: python stages/fetch_data.py 20162017 2016-08-01 2017-06-11
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20162017
      hash: md5
      md5: 6291c11b136bedf22cf855c8abdd6fb0.dir
      size: 42297351
      nfiles: 6
  fetch_data@3:
    cmd: python stages/fetch_data.py 20172018 2017-08-01 2018-06-07
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20172018
      hash: md5
      md5: 29e62c4ad6c6298875e6baf63e9a1043.dir
      size: 42979547
      nfiles: 6
  preprocess_data@0:
    cmd: python stages/preprocess_data.py 20142015
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20142015
      hash: md5
      md5: f55a37a0a0b4dbc0c9215c679afae50a.dir
      size: 42037525
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20142015
      hash: md5
      md5: 687d2c426b9cf4c463ab78065ab37970.dir
      size: 891637
      nfiles: 2
  preprocess_data@1:
    cmd: python stages/preprocess_data.py 20152016
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20152016
      hash: md5
      md5: bf7a03b2574c5951cac28a734b2ce39a.dir
      size: 41925211
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20152016
      hash: md5
      md5: 7d0450639096ea16b9601a0c92c80d31.dir
      size: 874913
      nfiles: 2
  preprocess_data@2:
    cmd: python stages/preprocess_data.py 20162017
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20162017
      hash: md5
      md5: 6291c11b136bedf22cf855c8abdd6fb0.dir
      size: 42297351
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20162017
      hash: md5
      md5: a18ffdac0b51a2ae73c50d68b7a8ca27.dir
      size: 881272
      nfiles: 2
  preprocess_data@3:
    cmd: python stages/preprocess_data.py 20172018
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20172018
      hash: md5
      md5: 29e62c4ad6c6298875e6baf63e9a1043.dir
      size: 42979547
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20172018
      hash: md5
      md5: 99f977b0b2b1f76e9650bd4c55b67912.dir
      size: 948060
      nfiles: 2
  fetch_data@4:
    cmd: python stages/fetch_data.py 20182019 2018-08-01 2019-06-12
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20182019
      hash: md5
      md5: 2a706c8626168d56befa69e329a4edf3.dir
      size: 43309324
      nfiles: 6
  fetch_data@5:
    cmd: python stages/fetch_data.py 20192020 2019-08-01 2020-09-28
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20192020
      hash: md5
      md5: fabadc777961f5a84c6ac0ae4ae9b404.dir
      size: 39505804
      nfiles: 6
  fetch_data@6:
    cmd: python stages/fetch_data.py 20202021 2021-01-01 2021-07-13
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20202021
      hash: md5
      md5: a665afdc3aa5fede5a27efda9eb601da.dir
      size: 29873862
      nfiles: 6
  fetch_data@7:
    cmd: python stages/fetch_data.py 20212022 2021-08-01 2022-06-26
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20212022
      hash: md5
      md5: 0feda20229cea7a157e3821c52163d83.dir
      size: 44892536
      nfiles: 6
  fetch_data@8:
    cmd: python stages/fetch_data.py 20222023 2022-08-01 2023-06-13
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20222023
      hash: md5
      md5: f3ccebe85290f05c8ab857139341f0ec.dir
      size: 45165228
      nfiles: 6
  fetch_data@9:
    cmd: python stages/fetch_data.py 20232024 2023-08-01 2024-06-24
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 90b49ed3b520562e79a15987ba125e7f
      size: 3113
    - path: stages/fetch_data.py
      hash: md5
      md5: 337f3ca95709af96ff440baca17cb351
      size: 4235
    outs:
    - path: ../data/raw/20232024
      hash: md5
      md5: 41b092a7b586c786d6fd022968cd9b9b.dir
      size: 46078393
      nfiles: 6
  preprocess_data@4:
    cmd: python stages/preprocess_data.py 20182019
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20182019
      hash: md5
      md5: 2a706c8626168d56befa69e329a4edf3.dir
      size: 43309324
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20182019
      hash: md5
      md5: 3ff5d96abdfac7e2a80deac5e1068cef.dir
      size: 930303
      nfiles: 2
  preprocess_data@5:
    cmd: python stages/preprocess_data.py 20192020
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20192020
      hash: md5
      md5: fabadc777961f5a84c6ac0ae4ae9b404.dir
      size: 39505804
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20192020
      hash: md5
      md5: a4aaae698d2fc3f3c3bd10632164348e.dir
      size: 847759
      nfiles: 2
  preprocess_data@6:
    cmd: python stages/preprocess_data.py 20202021
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20202021
      hash: md5
      md5: a665afdc3aa5fede5a27efda9eb601da.dir
      size: 29873862
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20202021
      hash: md5
      md5: 24ab88c6953a3dffa5fe8424a5afd789.dir
      size: 637369
      nfiles: 2
  preprocess_data@7:
    cmd: python stages/preprocess_data.py 20212022
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20212022
      hash: md5
      md5: 0feda20229cea7a157e3821c52163d83.dir
      size: 44892536
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20212022
      hash: md5
      md5: 362063419a9f9a5e27d9920db310bce1.dir
      size: 978212
      nfiles: 2
  preprocess_data@8:
    cmd: python stages/preprocess_data.py 20222023
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20222023
      hash: md5
      md5: f3ccebe85290f05c8ab857139341f0ec.dir
      size: 45165228
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20222023
      hash: md5
      md5: 581b66cfc6ab1480ee2066cc20dd8fce.dir
      size: 993043
      nfiles: 2
  preprocess_data@9:
    cmd: python stages/preprocess_data.py 20232024
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 3b9d8fff79046b658b0adcc33ab4d77d
      size: 10564
    - path: ../data/raw/20232024
      hash: md5
      md5: 41b092a7b586c786d6fd022968cd9b9b.dir
      size: 46078393
      nfiles: 6
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20232024
      hash: md5
      md5: 78b0a6c10eb5d544bd6b211fd8f236ab.dir
      size: 979031
      nfiles: 2
