schema: '2.0'
stages:
  fetch_data:
    cmd: python stages/fetch_data.py
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: 6118685afb780d0985089acd18678491
      size: 1418
    - path: stages/fetch_data.py
      hash: md5
      md5: c493c92b98421a66b9898b46dc084983
      size: 1349
    params:
      params.yaml:
        fetch_data.end_date: '2024-06-24'
        fetch_data.start_date: '2021-08-01'
    outs:
    - path: ../data/raw
      hash: md5
      md5: 1a9c4390040825452fff1db8f8a4ee29.dir
      size: 3375540
      nfiles: 1
  preprocess_data:
    cmd: python stages/preprocess_data.py
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 6a20ef213a4986d5ac5f03990881ad93
      size: 3831
    - path: ../data/raw
      hash: md5
      md5: 1a9c4390040825452fff1db8f8a4ee29.dir
      size: 3375540
      nfiles: 1
    - path: stages/preprocess_data.py
      hash: md5
      md5: 38b3374fb81ba565d312529b9532f29e
      size: 823
    outs:
    - path: ../data/preprocessed
      hash: md5
      md5: a38fc2d27caf77687be574d8677cabca.dir
      size: 54739
      nfiles: 1
  split_data:
    cmd: python stages/split_data.py
    deps:
    - path: ../data/preprocessed
      hash: md5
      md5: c5b2e3c71b803710256a451466a54073.dir
      size: 15699886
      nfiles: 20
    - path: stages/split_data.py
      hash: md5
      md5: e8244bc69bc97a4ffe37b38ae6c187e1
      size: 928
    params:
      params.yaml:
        splits:
          train:
          - 20142015
          - 20152016
          - 20162017
          - 20172018
          - 20182019
          - 20192020
          - 20202021
          - 20212022
          - 20222023
          test:
          - 20232024
    outs:
    - path: ../data/final
      hash: md5
      md5: c7fe6ee8ff6b5f716b79d323f9438f41.dir
      size: 160056
      nfiles: 2
  fetch_data@0:
    cmd: python stages/fetch_data.py 20142015 2014-08-01 2015-06-15
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20142015
      hash: md5
      md5: 71fc079649523b646b18db82223cc2ad.dir
      size: 39098532
      nfiles: 3
  fetch_data@1:
    cmd: python stages/fetch_data.py 20152016 2015-08-01 2016-06-12
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20152016
      hash: md5
      md5: 8b74d0faa0d1230fa20f07fa49b21721.dir
      size: 38885309
      nfiles: 3
  fetch_data@2:
    cmd: python stages/fetch_data.py 20162017 2016-08-01 2017-06-11
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20162017
      hash: md5
      md5: d3fa50527957f8a7aa85767649ab7309.dir
      size: 39018366
      nfiles: 3
  fetch_data@3:
    cmd: python stages/fetch_data.py 20172018 2017-08-01 2018-06-07
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20172018
      hash: md5
      md5: 39c6913eae60ec0f7a27233713c897f8.dir
      size: 39680806
      nfiles: 3
  preprocess_data@0:
    cmd: python stages/preprocess_data.py 20142015
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20142015
      hash: md5
      md5: 71fc079649523b646b18db82223cc2ad.dir
      size: 39098532
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20142015
      hash: md5
      md5: d9592501514e2834d39a9927c879ddba.dir
      size: 1563383
      nfiles: 2
  preprocess_data@1:
    cmd: python stages/preprocess_data.py 20152016
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20152016
      hash: md5
      md5: 8b74d0faa0d1230fa20f07fa49b21721.dir
      size: 38885309
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20152016
      hash: md5
      md5: a2b82fb2f31aa6b798dda661696b5618.dir
      size: 1539865
      nfiles: 2
  preprocess_data@2:
    cmd: python stages/preprocess_data.py 20162017
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20162017
      hash: md5
      md5: d3fa50527957f8a7aa85767649ab7309.dir
      size: 39018366
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20162017
      hash: md5
      md5: 936d92568975b648d131d0e1fae70754.dir
      size: 1550151
      nfiles: 2
  preprocess_data@3:
    cmd: python stages/preprocess_data.py 20172018
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20172018
      hash: md5
      md5: 39c6913eae60ec0f7a27233713c897f8.dir
      size: 39680806
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20172018
      hash: md5
      md5: 8b570bbbf8495270bfcc70f8cb0f1ee8.dir
      size: 1669582
      nfiles: 2
  fetch_data@4:
    cmd: python stages/fetch_data.py 20182019 2018-08-01 2019-06-12
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20182019
      hash: md5
      md5: 1315b1c848c2feaa0818ee9c186291a2.dir
      size: 39857809
      nfiles: 3
  fetch_data@5:
    cmd: python stages/fetch_data.py 20192020 2019-08-01 2020-09-28
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20192020
      hash: md5
      md5: df0aaefcb2e13a40d8a5a55f388528a3.dir
      size: 35996945
      nfiles: 3
  fetch_data@6:
    cmd: python stages/fetch_data.py 20202021 2021-01-01 2021-07-13
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20202021
      hash: md5
      md5: ddcb38ee0f240f4db5bf0b6391a163da.dir
      size: 26973639
      nfiles: 3
  fetch_data@7:
    cmd: python stages/fetch_data.py 20212022 2021-08-01 2022-06-26
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20212022
      hash: md5
      md5: f535fd218d93e38fd9d97d3fab8d69ea.dir
      size: 41252747
      nfiles: 3
  fetch_data@8:
    cmd: python stages/fetch_data.py 20222023 2022-08-01 2023-06-13
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20222023
      hash: md5
      md5: 8f0993b67467fd781624205d506cdd17.dir
      size: 41417634
      nfiles: 3
  fetch_data@9:
    cmd: python stages/fetch_data.py 20232024 2023-08-01 2024-06-24
    deps:
    - path: ../../bayesbet/nhl/stats_api.py
      hash: md5
      md5: e93e1e801c1391d345355a19a789e602
      size: 2001
    - path: stages/fetch_data.py
      hash: md5
      md5: d74d931fc6e3d811ee90e774ddde8e38
      size: 2138
    outs:
    - path: ../data/raw/20232024
      hash: md5
      md5: bc9ff006f68baf9500f641918ac5a8ac.dir
      size: 42092666
      nfiles: 3
  preprocess_data@4:
    cmd: python stages/preprocess_data.py 20182019
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20182019
      hash: md5
      md5: 1315b1c848c2feaa0818ee9c186291a2.dir
      size: 39857809
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20182019
      hash: md5
      md5: 36ae08a5363e07cf07eb8d00ed4ffc84.dir
      size: 1666558
      nfiles: 2
  preprocess_data@5:
    cmd: python stages/preprocess_data.py 20192020
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20192020
      hash: md5
      md5: df0aaefcb2e13a40d8a5a55f388528a3.dir
      size: 35996945
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20192020
      hash: md5
      md5: f02195cbdcaf95747fdb29ac127ec852.dir
      size: 1477071
      nfiles: 2
  preprocess_data@6:
    cmd: python stages/preprocess_data.py 20202021
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20202021
      hash: md5
      md5: ddcb38ee0f240f4db5bf0b6391a163da.dir
      size: 26973639
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20202021
      hash: md5
      md5: 0642201ef596dfc610e8bed168242007.dir
      size: 1124343
      nfiles: 2
  preprocess_data@7:
    cmd: python stages/preprocess_data.py 20212022
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20212022
      hash: md5
      md5: f535fd218d93e38fd9d97d3fab8d69ea.dir
      size: 41252747
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20212022
      hash: md5
      md5: 585bd2ac987e70c31fdc6848ba95b40c.dir
      size: 1696663
      nfiles: 2
  preprocess_data@8:
    cmd: python stages/preprocess_data.py 20222023
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20222023
      hash: md5
      md5: 8f0993b67467fd781624205d506cdd17.dir
      size: 41417634
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20222023
      hash: md5
      md5: bb759947fa0401f046c108fc11ca31b5.dir
      size: 1710453
      nfiles: 2
  preprocess_data@9:
    cmd: python stages/preprocess_data.py 20232024
    deps:
    - path: ../../bayesbet/nhl/data_utils.py
      hash: md5
      md5: 2519ea6857e237684a68f2ebb19b5e43
      size: 10796
    - path: ../data/raw/20232024
      hash: md5
      md5: bc9ff006f68baf9500f641918ac5a8ac.dir
      size: 42092666
      nfiles: 3
    - path: stages/preprocess_data.py
      hash: md5
      md5: 8fc0cb9b420976a433e6b27116e6ff77
      size: 1486
    outs:
    - path: ../data/preprocessed/20232024
      hash: md5
      md5: 6ddd6f0c45dd1aa8a14e625fdbb3089a.dir
      size: 1701817
      nfiles: 2
